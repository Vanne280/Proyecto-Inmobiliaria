{% extends 'base/base.html' %}

{% load static %}

{% block container %}

<h3 class="center-align">Crear/Actualizar Inmueble</h3>
<br>
<div class="section">
  <div class="row">
    <div class="row card-panel">
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="input-field col l3 col-m6">
          <i class="material-icons prefix">looks_3</i>
          <!-- <input id="direccion" type="text" name="direccion" class="validate" required> -->
          <label>Código</label>
          {{form.codigo}}
        </div>

        <div class="clearfix"></div>
        <div class="input-field col l6 col-m6">
          <i class="material-icons prefix">home</i>
          <!-- <input id="direccion" type="text" name="direccion" class="validate" required> -->
          <label>Dirección</label>
          {{form.direccion}}
        </div>

        <div class="input-field col l6 col-m6">
          <i class="material-icons prefix">location_city</i>
          <select id="IDBarrio" name="IDBarrio">
            <option value="" disabled selected>Seleccione un barrio</option>
              {% for d in form.IDBarrio %}
                 <!-- <option value="{{ d.id }}">{{ d.nombre }}</option> -->
                {{ d }}
              {% endfor %}
          </select>
          <label for="IDBarrio">Barrio</label>
        </div>

        <div class="input-field col l6 col-m6">
          <i class="material-icons prefix">location_city</i>
          <select id="IDTipo_de_inmueble" name="IDTipo_de_inmueble" required>
            <option value="" disabled selected>Seleccione un tipo de inmueble</option>
              {% for d in form.IDTipo_de_inmueble %}
                <!-- <option value="{{ d.id }}">{{ d.nombre }}</option> -->
                {{ d }}
              {% endfor %}
          </select>
          <label for="IDTipo_de_inmueble">Tipo de inmueble</label>
        </div>

        <div class="input-field col l6 col-m6">
          <i class="material-icons prefix">local_offer</i>
          <select id="IDTipo_de_oferta" name="IDTipo_de_oferta" required>
            <option value="" disabled selected>Seleccione un tipo de oferta</option>
              {% for d in form.IDTipo_de_oferta %}
                <!-- <option value="{{ d.id }}">{{ d.nombre }}</option> -->
                {{ d }}
              {% endfor %}
           </select>
           <label for="IDTipo_de_oferta">Tipo de oferta</label>
        </div>

        <div class="input-field col l3 col-m6">
          <i class="material-icons prefix">monetization_on</i>
          <!-- <input id="precio" type="number" name="precio" class="validate" required> -->
          <label>Precio</label>
          {{form.precio}}
        </div>

        <div class="clearfix"></div>
        <div class="input-field col l2">
          <i class="material-icons prefix">hotel</i>
          <!-- <input id="alcoba" type="number" name="alcoba" class="validate" required> -->
          <label>Alcoba</label>
          {{form.alcoba}}
        </div>

        <div class="input-field col l2">
          <i class="material-icons prefix">invert_colors</i>
          <!-- <input id="baño" type="number" name="baño" class="validate" required> -->
          <label>Baño</label>
          {{form.baño}}
        </div>

        <div class="clearfix"></div>
        <div class="input-field col l2">
          <label>
            <!-- <input id="parqueadero" type="checkbox" name="parqueadero" class="filled-in" /> -->
            {{form.parqueadero}}
            <span>Parqueadero</span>
          </label>
        </div>

        <div class="clearfix"></div>
        <div class="input-field col l2">
          <label>
            <!-- <input id="disponible" type="checkbox" name="disponible" class="filled-in" /> -->
            {{form.disponible}}
            <span>Disponible</span>
          </label>
        </div>

        <div class="clearfix"></div>
        <br><br>
        <div class="input-field col s12">
          <i class="material-icons prefix">subject</i>
          <!-- <textarea id="descripcion" name="descripcion" class="materialize-textarea"></textarea> -->
          {{form.descripcion}}
          <label>Descripción</label>
        </div>

        <div class="clearfix"></div>
        <br><br>
        <div class="file-field input-field col s12">
          <div class="btn-small deep-orange darken-4">
            <span>Examinar</span>
            <input type="file" name="imagenppal" id="imagenppal">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate">
            <label for="imagenppal">Ingrese imagen principal de la propiedad</label>
          </div>
        </div>

        <div class="clearfix"></div>
        <p>A continuación puede ingresar las imágenes de la propiedad:</p>
        <div class="file-field input-field col s12">
          <div class="btn-small deep-orange darken-4">
            <span>Examinar</span>
            <input type="file" name="imagenes" id="imagenes" multiple>
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text">
            <label>Ingrese una o mas imágenes</label>
          </div>
        </div>

        <div class="input-field col s12" style="text-align:center;">
          <button data-target="idModal" class="btn waves-effect waves-light deep-orange darken-4" type="submit">Enviar
            <i class="material-icons right">check</i>
          </button>
        </div>

        <div class="modal" id="idModal">
          <div class="modal-content">
            {% if messages %}
              <ul class="messages">
                {% for message in messages %}
                  <li class="{{ message.tags }}">{{ message }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
          <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Aceptar</a>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>

<!-- {% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li class="{{ message.tags }}">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %} -->

{% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %}
            <div class="card-panel brown lighten-3">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
        <div class="card-panel brown lighten-3">
            <strong>{{ error|escape }}</strong>
        </div>
    {% endfor %}
{% endif %}


{% endblock %}
